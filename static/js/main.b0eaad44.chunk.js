(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,a,t){},44:function(e,a,t){},49:function(e,a,t){e.exports=t.p+"static/media/book_library.a647578c.png"},52:function(e,a,t){e.exports=t(76)},76:function(e,a,t){"use strict";t.r(a);var r=t(0),o=t.n(r),n=t(23),l=t.n(n);t(34);var s=function(){return o.a.createElement("div",null,o.a.createElement("h1",{className:"about-title"},"Thanks for stopping by!"),o.a.createElement("img",{className:"image-about",src:"https://images.unsplash.com/photo-1507842217343-583bb7270b66?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2353&q=80",alt:"library"}))},c=t(78),i=t(87),m=t(84);var u=function(e){var a=JSON.parse(window.localStorage.getItem("myBooks")),t=a.myBooksArr.filter(function(a){return a.id!==e});a.myBooksArr=t,window.localStorage.setItem("myBooks",JSON.stringify(a))};function d(e){u(e.target.previousSibling.innerHTML),window.location.reload()}var g=function(e){return o.a.createElement(i.a.Item,{variant:"info",className:"my-book"},o.a.createElement("img",{src:e.smallImg,alt:"small"}),o.a.createElement("div",null,o.a.createElement("p",{className:"mybook-title"},e.title),o.a.createElement("p",{className:"mybook-author"},"-- ",e.author," --")),o.a.createElement("span",{className:"ishidden"},e.id),o.a.createElement("button",{className:"btn-remove",onClick:d},"X"))};var p=function(){var e=window.localStorage.getItem("myBooks")?JSON.parse(window.localStorage.getItem("myBooks")).myBooksArr:[];return o.a.createElement("div",{className:"my-books"},o.a.createElement(c.a,{className:"jumbotron"},o.a.createElement("h1",null,"This is your list, book lover!"),o.a.createElement("p",null,"Feel free to refine your list by removing books from it, as needed.")),e.length>0?o.a.createElement(i.a,null,e.map(function(e,a){return o.a.createElement(g,{key:a,title:e.title,smallImg:e.smallImageURL,author:e.author,id:e.id})})):o.a.createElement(m.a,{variant:"warning"},"You have no books added to your list!"))},h=t(21),b=t(82),E=t(85),f=t(79),v=t(88),w=t(48);var k=function(e){var a=JSON.parse(window.localStorage.getItem("lastSearch")).result.booksArr.filter(function(a){return a.id===e}),t=window.localStorage.getItem("myBooks")?JSON.parse(window.localStorage.getItem("myBooks")):{},r=Object.keys(t).length>0?t.myBooksArr:[];r=r.concat(a),t.myBooksArr=Object.values(r.reduce(function(e,a){return Object.assign(e,Object(w.a)({},a.id,a))},{})),window.localStorage.setItem("myBooks",JSON.stringify(t))};var y=function(e){return e.noResult?o.a.createElement("div",null,e.noResult):o.a.createElement("div",null,o.a.createElement(v.a,{className:"book-card",bg:"light",style:{width:"18rem",height:"28rem"}},o.a.createElement(v.a.Body,null,o.a.createElement(v.a.Title,{className:"book-title"},e.title),o.a.createElement(v.a.Title,{className:"book-author"},"-- ",e.author," --"),o.a.createElement(v.a.Img,{className:"book-img",variant:"top",src:e.imageURL}),o.a.createElement("span",{className:"ishidden"},e.id),o.a.createElement(f.a,{className:"btn-add",variant:"info",onClick:function(e){var a=e.target.previousSibling.innerHTML;k(a)}},"Add to my books")),o.a.createElement(v.a.Footer,{className:"book-footer"},o.a.createElement("p",null,o.a.createElement("img",{className:"goodreads-logo",src:"https://s.gr-assets.com/assets/icons/goodreads_icon_32x32-6c9373254f526f7fdf2980162991a2b3.png",alt:"goodreads logo"}),"oodreads rating: ",e.rating))))},N=t(80),S=t(81),I="https://booklibrary-server.herokuapp.com";var O=function(e){var a=Object(r.useState)(null),t=Object(h.a)(a,2),n=t[0],l=t[1],s=Object(r.useState)(e.input),c=Object(h.a)(s,2),i=c[0],u=c[1],d=JSON.parse(window.localStorage.getItem("lastSearch"))?JSON.parse(window.localStorage.getItem("lastSearch")).searchInput:null,g=JSON.parse(window.localStorage.getItem("lastSearch"))?JSON.parse(window.localStorage.getItem("lastSearch")).result:null;if(Object(r.useEffect)(function(){d!==i?(l(null),fetch("".concat(I,"/api/booksearch/").concat(i)).then(function(e){return e.json()}).then(function(e){l(e)})):l(g)},[i]),i!==e.input&&u(e.input),n){var p={};if(p.searchInput=i,p.result=n,window.localStorage.setItem("lastSearch",JSON.stringify(p)),n.noResult)return o.a.createElement("div",{className:"no-result"},o.a.createElement(m.a,{variant:"warning"},o.a.createElement(y,{noResult:n.noResult})));var b=[];return n.booksArr.forEach(function(e,a){b.push(o.a.createElement(y,{key:a,id:e.id,rating:e.rating,title:e.title,author:e.author,imageURL:e.imageURL,smallImg:e.smallImageURL}))}),o.a.createElement("div",{className:"card-container"},o.a.createElement(N.a,null,b))}return o.a.createElement("div",{className:"spinner"},o.a.createElement(S.a,{animation:"border",size:"sm"}),o.a.createElement(S.a,{animation:"border"}),o.a.createElement(S.a,{animation:"grow",size:"sm"}),o.a.createElement(S.a,{animation:"grow"}))};var B=function(){var e=Object(r.useState)(""),a=Object(h.a)(e,2),t=a[0],n=a[1],l=o.a.createRef();function s(){return l.current.value}function c(e){e.persist(),e.preventDefault();var a=s();n(a),l.current.value=""}if(!t){var i=JSON.parse(window.localStorage.getItem("lastSearch"));if(i&&i.searchInput)return o.a.createElement("div",null,o.a.createElement("h1",{className:"search-title"},"What would you like to read today? "),o.a.createElement("h4",{className:"search-subtitle"},"Search powered by",o.a.createElement("img",{className:"goodreads-logo",src:"https://s.gr-assets.com/assets/icons/goodreads_icon_32x32-6c9373254f526f7fdf2980162991a2b3.png",alt:"goodreads logo"}),"oodreads"),o.a.createElement(b.a,{className:"input-group",size:"lg"},o.a.createElement(E.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",ref:l,type:"text",onChange:function(e){return s()}}),o.a.createElement(b.a.Prepend,null,o.a.createElement(f.a,{btn:"info",onClick:c},"Search"))),o.a.createElement(O,{input:i.searchInput}))}return o.a.createElement("div",null,o.a.createElement("h1",{className:"search-title"},"What would you like to read today?"),o.a.createElement("h4",{className:"search-subtitle"},"Search powered by",o.a.createElement("img",{className:"goodreads-logo",src:"https://s.gr-assets.com/assets/icons/goodreads_icon_32x32-6c9373254f526f7fdf2980162991a2b3.png",alt:"goodreads logo"}),"oodreads"),o.a.createElement(b.a,{className:"input-group",size:"lg"},o.a.createElement(E.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",ref:l,type:"text",onChange:function(e){return s()}}),o.a.createElement(b.a.Prepend,null,o.a.createElement(f.a,{btn:"info",onClick:c},"Search"))),t?o.a.createElement(O,{input:t}):"")};t(44);var j=function(){return o.a.createElement("div",{className:"home"},o.a.createElement(c.a,{className:"jumbotron-home"},o.a.createElement("h1",{className:"home-title"},"Welcome to our library, book lover!"),o.a.createElement("p",{className:"home-text"},"This is a place where you can get inspired in your lecture. Search for books by title, author or ISBN. Add books to your list for managing them later."),o.a.createElement("div",null,o.a.createElement("img",{className:"image",src:"https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/j-k-rowling-book-quote-1531932701.jpg?crop=1xw:1xh;center,top&resize=*:2601",alt:"this is book"}))))},J=t(19),x=t(13),A=t(83),R=t(86),L=t(49),z=t.n(L);t(71);var T=function(){return o.a.createElement(J.a,null,o.a.createElement(A.a,{collapseOnSelect:!0,expand:"md",bg:"light"},o.a.createElement(A.a.Brand,null,o.a.createElement("img",{src:z.a,className:"App-logo",alt:"logo"})),o.a.createElement(A.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),o.a.createElement(A.a.Collapse,{id:"responsive-navbar-nav"},o.a.createElement(R.a,{className:"mr-auto"},o.a.createElement(J.b,{to:"/"},"Home"),o.a.createElement(J.b,{to:"/search"},"Search Books"),o.a.createElement(J.b,{to:"/my-books"},"My Books"),o.a.createElement(J.b,{to:"/about"},"About")))),o.a.createElement("div",null,o.a.createElement(x.a,{exact:!0,path:"/",component:j}),o.a.createElement(x.a,{path:"/search",component:B}),o.a.createElement(x.a,{path:"/my-books",component:p}),o.a.createElement(x.a,{path:"/about",component:s})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[52,1,2]]]);
//# sourceMappingURL=main.b0eaad44.chunk.js.map